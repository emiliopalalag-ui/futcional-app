<!-- üî• OCULTA TODO EL LAYOUT SI EST√ÅS EN LOGIN -->
<ng-container *ngIf="!isLogin">

  <!-- ========== MENU LATERAL ========== -->
  <ion-menu contentId="main-content" type="overlay">

    <ion-header>
      <ion-toolbar color="primary">
        <ion-title style="display: flex; align-items: center;">
          <img src="assets/logo37.jpg" style="height: 32px; margin-right: 10px;" />
          Men√∫ Principal
        </ion-title>
      </ion-toolbar>
    </ion-header>

    <ion-content>

      <ion-list class="menu-list" lines="none">

        <ion-menu-toggle auto-hide="true">

          <ion-item button detail="false" class="menu-item" (click)="navigateTo('home')">
            <ion-icon name="home-outline" slot="start"></ion-icon>
            <ion-label>Inicio</ion-label>
          </ion-item>

          <ion-item button detail="false" class="menu-item" (click)="navigateTo('usuarios')">
            <ion-icon name="people-outline" slot="start"></ion-icon>
            <ion-label>Usuarios</ion-label>
          </ion-item>

          <ion-item button detail="false" class="menu-item" (click)="navigateTo('roles')">
            <ion-icon name="id-card-outline" slot="start"></ion-icon>
            <ion-label>Roles</ion-label>
          </ion-item>

          <ion-item button detail="false" class="menu-item" (click)="navigateTo('entrenamientos')">
            <ion-icon name="barbell-outline" slot="start"></ion-icon>
            <ion-label>Entrenamientos</ion-label>
          </ion-item>

          <ion-item button detail="false" class="menu-item" (click)="navigateTo('inscripciones')">
            <ion-icon name="reader-outline" slot="start"></ion-icon>
            <ion-label>Inscripciones</ion-label>
          </ion-item>
  <ion-item button detail="false" class="menu-item" (click)="navigateTo('pagos')">
            <ion-icon name="cash-outline" slot="start"></ion-icon>
            <ion-label>Pagos</ion-label>
          </ion-item>
          <ion-item button detail="false" class="menu-item" (click)="navigateTo('actividades')">
            <ion-icon name="calendar-outline" slot="start"></ion-icon>
            <ion-label>Actividades</ion-label>
          </ion-item>
          <ion-item button detail="false" class="menu-item" (click)="navigateTo('gastos')">
            <ion-icon name="document-text-outline" slot="start"></ion-icon>
            <ion-label>Gastos</ion-label>
          </ion-item>
          <ion-item routerLink="/responsables">
  <ion-icon name="people-outline" slot="start"></ion-icon>
  <ion-label>Responsables de Atletas</ion-label>
</ion-item>

          <ion-item button detail="false" class="menu-item" (click)="navigateTo('informes')">
            <ion-icon name="document-text-outline" slot="start"></ion-icon>
            <ion-label>Informes</ion-label>
          </ion-item>

        </ion-menu-toggle>

      </ion-list>

    </ion-content>

    <ion-footer>
      <ion-toolbar color="light">
        <ion-buttons>
          <ion-button fill="clear" (click)="goToProfile()">
            <ion-icon name="person-outline" slot="start"></ion-icon>
            Perfil
          </ion-button>

          <ion-button fill="clear" color="danger" (click)="logout()">
            <ion-icon name="log-out-outline" slot="start"></ion-icon>
            Salir
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-footer>

  </ion-menu>

  <!-- ========== CONTENIDO PRINCIPAL ========== -->
  <div id="main-content" class="ion-page">

    <ion-header>
      <ion-toolbar color="primary">

        <!-- BOT√ìN MEN√ö -->
        <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
        </ion-buttons>

        <!-- LOGO + HORA -->
        <ion-title>
          <div style="display: flex; align-items: center; gap: 12px;">
            <img src="assets/logo37.jpg" style="height: 32px;" />
            <div style="font-size: 15px; font-weight: bold;">
              {{ currentTime }}
            </div>
          </div>
        </ion-title>

        <!-- AVATAR -->
        <ion-buttons slot="end">
          <ion-button id="user-menu-btn" fill="clear">
            <ion-avatar>
              <img *ngIf="photoURL; else initialsTpl" [src]="photoURL" />
            </ion-avatar>
          </ion-button>
        </ion-buttons>

      </ion-toolbar>
    </ion-header>

    <!-- üî• AQU√ç VA EL CONTENIDO DE LAS P√ÅGINAS INTERNAS -->
    <ion-content class="ion-padding">

      <!-- üî• OJO: ESTE ES EL CORRECTO, NO ION-ROUTER-OUTLET -->
      <router-outlet></router-outlet>

    </ion-content>

  </div>

  <!-- Iniciales cuando no hay foto -->
  <ng-template #initialsTpl>
    <div class="initials">{{ initials }}</div>
  </ng-template>

</ng-container>
